import*as e from"@wordpress/interactivity";var o={d:(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};const t=(s={store:()=>e.store},i={},o.d(i,s),i),r=window.matchMedia("(prefers-color-scheme: dark)"),{callbacks:a,state:c}=(0,t.store)("x3p0-ideas/color-scheme",{state:{get isLoggedIn(){return 0<c.userId}},actions:{toggle(){if(c.isDark=!c.isDark,c.colorScheme=c.isDark?"dark":"light",c.isLoggedIn)return void wp.apiFetch({path:`/wp/v2/users/${c.userId}`,method:"POST",data:{meta:{[c.name]:c.colorScheme}}});let e=c.cookiePath||"/",o=c.cookieDomain?"; domain="+c.cookieDomain:"";document.cookie=`${c.name}=${c.colorScheme};path=${e}${o}`}},callbacks:{init(){c.hasOwnProperty("switchableSchemes")&&c.switchableSchemes.includes(c.colorScheme)&&(c.isDark=r.matches)},updateScheme(){document.documentElement.style.setProperty("color-scheme",c.colorScheme)}}});var s,i;r.addEventListener("change",(()=>{a.init()}));